name: Daily Work Update Auto

on:
  workflow_dispatch:  # manual or external trigger

jobs:
  send-message:
    runs-on: ubuntu-latest
    steps:
      - name: Get Today's Date
        id: date
        run: echo "today=$(date +"%B %d, %Y")" >> $GITHUB_OUTPUT

      - name: Send Slack Message
        run: |
          curl -X POST \
            -H "Authorization: Bearer ${{ secrets.SLACK_BOT_TOKEN }}" \
            -H "Content-Type: application/json" \
            --data "{
              \"channel\": \"C0996FALSMA\",
              \"blocks\": [
                {
                  \"type\": \"section\",
                  \"text\": {
                    \"type\": \"mrkdwn\",
                    \"text\": \"ðŸŽ‰ *Happy New Year!* ðŸŽŠðŸ¥³\\n\\n<!channel>\\n*Daily Work Updates*  \`$(date +'%B %d, %Y')\`\\nPlease update your work on this thread.\"
                  }
                }
              ]
            }" \
            https://slack.com/api/chat.postMessage
